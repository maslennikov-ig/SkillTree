# План улучшения RIASEC теста профориентации

## Контекст

Тест профориентации для подростков 14-18 лет на основе методологии Holland/RIASEC.
**Цель:** Привести к стандарту O*NET (60 вопросов) с адаптацией под Россию и подростков.

---

## Выбранный вариант: B — Стандартизация O*NET

**Параметры:**
- 60 вопросов (10 × 6 шкал RIASEC)
- Полное соответствие международному стандарту
- Культурная адаптация для России
- Возрастная адаптация для подростков 14-18 лет

---

## Текущие проблемы (55 вопросов)

### 1. Дисбаланс по измерениям

| Шкала | Текущее | Нужно (60) | Действие |
|-------|---------|------------|----------|
| A (Artistic) | 11 | 10 | -1 (убрать дубль) |
| C (Conventional) | 7 | 10 | +3 новых |
| E (Enterprising) | 8 | 10 | +2 новых |
| R (Realistic) | 9 | 10 | +1 новый |
| I (Investigative) | 10 | 10 | OK |
| S (Social) | 10 | 10 | OK |

**Итого:** +5 новых вопросов (C×3, E×2, R×1), убрать 1 дубль A

### 2. OPEN_TEXT вопросы — заменить на MULTIPLE_CHOICE

- Q25: "Идеальная работа" → варианты карьерных направлений
- Q40: "3 качества" → выбор из списка
- Q52: "Что учесть" → убрать или non-scoring

### 3. Проблемные веса (cross-loading) — исправить

| Вопрос | Было | Станет |
|--------|------|--------|
| Q17 | R=0.7, S=0.5 | R=1.0, S=0.2 |
| Q20 | S=0.5, E=0.5 | Разделить на 2 вопроса |
| Q39 | 6 шкал | C=1.0, I=0.2 |
| Q4 | I=1.0, S=0.3, E=0.2 | I=1.0, S=0.1 |

### 4. Дублирующиеся вопросы — дифференцировать

- Q7/Q38/Q45 (работа руками) → оставить Q7, переформулировать Q38 и Q45
- Q3/Q14 (творчество) → оставить Q3, Q14 убрать (дубль)

---

## Адаптация под Россию

### Культурные особенности

1. **Профессии:** Использовать российские реалии
   - Вместо "park ranger" → "лесник, егерь"
   - Вместо "financial advisor" → "финансовый консультант"
   - Добавить: IT-специалист, блогер, фрилансер (актуально для подростков)

2. **Контекст:** Российская школьная система
   - Упоминать ЕГЭ, олимпиады, кружки, секции
   - Школьные предметы: информатика, ОБЖ, технология

3. **Примеры деятельности:**
   - R: "Починить велосипед", "Собрать компьютер"
   - I: "Участвовать в олимпиаде по физике"
   - A: "Вести TikTok/YouTube канал", "Рисовать в Procreate"
   - S: "Помогать младшим с уроками", "Волонтёрство"
   - E: "Организовать школьное мероприятие"
   - C: "Вести расписание, планировать"

4. **Язык:**
   - Избегать англицизмов где возможно
   - Использовать понятные подросткам выражения
   - Избегать канцелярита

### Что НЕ адаптировать

- Структуру теста (60 вопросов, 10×6)
- Формулу расчёта (Z-score, Pearson correlation)
- Базовые принципы Holland hexagon

---

## Адаптация под подростков (14-18 лет)

### Когнитивные особенности

1. **Конкретность:** Избегать абстрактных формулировок
   - ❌ "Насколько вы склонны к систематизации информации?"
   - ✅ "Нравится ли тебе раскладывать вещи по полочкам?"

2. **Актуальный контекст:**
   - Школа, домашние дела, хобби, друзья
   - Не: работа, карьера, зарплата (слишком абстрактно)

3. **Короткие вопросы:** Максимум 15-20 слов

4. **Эмодзи:** Умеренное использование для визуальной привлекательности

### Защита от социально желаемых ответов

1. **Neutral framing:**
   - ❌ "Ты лидер или исполнитель?" (лидер = "круто")
   - ✅ "Тебе комфортнее вести команду или работать самостоятельно?"

2. **Без оценочных слов:**
   - Убрать: "крутой", "интересный", "скучный"
   - Оставить: "нравится", "комфортно", "предпочитаешь"

3. **Reverse-coded items (3-4 вопроса):**
   - "Тебе сложно долго сидеть за компьютером?" (низкий R/I)
   - "Тебе некомфортно выступать перед классом?" (низкий E)

4. **Consistency pairs:**
   - Q7 ↔ Q38 (работа руками) — должны коррелировать
   - Флаг при расхождении > 3 баллов

### Сложные вопросы — переформулировать

| Вопрос | Было | Станет |
|--------|------|--------|
| Q29 | "Деньги vs любимое дело" | "Что важнее: высокая зарплата или интересная работа?" |
| Q31 | "Готов учиться много лет" | "Тебе интересно было бы учиться в университете 5-6 лет?" |
| Q54 | "Реалист или мечтатель" | Убрать (bias) или переформулировать |

---

## Структура теста (60 вопросов)

### Распределение по секциям

| Секция | Вопросы | Тема | Измерения |
|--------|---------|------|-----------|
| 1 | 1-12 | Интересы и хобби | R, I, A (по 4) |
| 2 | 13-24 | Школа и обучение | S, E, C (по 4) |
| 3 | 25-36 | Деятельность | R, I, A (по 4) |
| 4 | 37-48 | Общение и работа | S, E, C (по 4) |
| 5 | 49-60 | Будущее и карьера | Все (по 2) |

### Распределение по типам вопросов

| Тип | Количество | % |
|-----|------------|---|
| MULTIPLE_CHOICE | 36 | 60% |
| RATING (1-5) | 18 | 30% |
| BINARY | 6 | 10% |
| OPEN_TEXT | 0 | 0% |

### Стандартизация весов (Holland hexagon)

```
      R
     / \
    C   I     Adjacent пары: R-I, R-C, I-A, A-S, S-E, E-C
    |   |     Opposite пары: R-S, I-E, A-C
    E   A
     \ /
        S
```

**Правило весов:**
- Primary: 1.0
- Adjacent: 0.2-0.3
- Opposite: 0
- Neutral: 0

---

## План внедрения

### Фаза 1: Подготовка контента (3-4 дня)

**Задачи:**
1. Написать 6 новых вопросов (C×3, E×2, R×1)
2. Переформулировать 3 OPEN_TEXT → MULTIPLE_CHOICE
3. Дифференцировать дубли (Q38, Q45, Q14)
4. Исправить веса в Q4, Q17, Q20, Q39
5. Добавить 3-4 reverse-coded вопроса
6. Переформулировать сложные Q29, Q31, Q54

**Файл:** `packages/database/prisma/seed-data/riasec-data.ts`

### Фаза 2: Техническая миграция (2-3 дня)

**Задачи:**
1. Обновить константы:
   - `TOTAL_QUESTIONS = 60`
   - `QUIZ_FLOW = ["q1", ..., "q60"]`
2. Добавить поле `testVersion` в TestResult
3. Создать migration для Prisma
4. Обновить `quiz.service.ts` (randomization опций)
5. Добавить consistency check

**Файлы:**
- `apps/bot/src/content/questions.ts`
- `packages/database/prisma/schema.prisma`
- `apps/bot/src/services/quiz.service.ts`
- `apps/bot/src/services/results.service.ts`

### Фаза 3: Тестирование (2-3 дня)

**Задачи:**
1. Unit-тесты: симуляция 5 типов личности
2. Проверка всех 60 вопросов в боте
3. E2E тест: пройти тест от начала до конца
4. Type-check и build

### Фаза 4: Валидация (1-2 недели после запуска)

**Задачи:**
1. Собрать данные (минимум 100 респондентов)
2. Рассчитать Cronbach's alpha (цель > 0.70)
3. Item-total correlation (цель > 0.30)
4. Пересчитать нормы на российских подростках
5. Итерация при необходимости

**Файл:** `packages/shared/src/constants/riasec.ts` (нормы)

---

## Новые вопросы (6 штук)

### C (Conventional) — 3 новых

**Q56:** "Нравится ли тебе работать с таблицами и данными?"
- Тип: RATING (1-5)
- Primary: C=1.0, I=0.2

**Q57:** "Тебе комфортно следовать чёткому расписанию?"
- Тип: BINARY
- Primary: C=1.0, E=0.2 (reverse)

**Q58:** "Как относишься к работе с документами?"
- Тип: MULTIPLE_CHOICE
- Опции: Нравится систематизировать / Терплю если надо / Стараюсь избегать

### E (Enterprising) — 2 новых

**Q59:** "Интересно ли тебе убеждать других в своей точке зрения?"
- Тип: RATING (1-5)
- Primary: E=1.0, S=0.2

**Q60:** "Хотел бы ты когда-нибудь запустить свой бизнес или проект?"
- Тип: BINARY
- Primary: E=1.0, I=0.2

### R (Realistic) — 1 новый

**Q61 → Q38 (замена):** "Нравится ли тебе разбираться в технике — смартфонах, компьютерах, гаджетах?"
- Тип: RATING (1-5)
- Primary: R=1.0, I=0.3

---

## Файлы для изменения

| Файл | Изменения | Приоритет |
|------|-----------|-----------|
| `packages/database/prisma/seed-data/riasec-data.ts` | +6 вопросов, исправить веса, переформулировать | HIGH |
| `apps/bot/src/content/questions.ts` | TOTAL_QUESTIONS=60, QUIZ_FLOW | HIGH |
| `packages/database/prisma/schema.prisma` | testVersion в TestResult | HIGH |
| `apps/bot/src/services/quiz.service.ts` | Randomization опций | MEDIUM |
| `apps/bot/src/services/results.service.ts` | Версионирование, consistency | MEDIUM |
| `packages/shared/src/constants/riasec.ts` | Нормы (после валидации) | LOW |

---

## Верификация

1. **Unit-тесты:** Симуляция 5 типов личности (Творец, Инженер, Учёный, Помощник, Лидер)
2. **Cronbach's alpha:** > 0.70 для каждой шкалы
3. **Item-total correlation:** > 0.30 для каждого вопроса
4. **Consistency check:** Коррелирующие пары вопросов
5. **E2E тест:** Пройти весь тест в боте
6. **Type-check:** `pnpm run type-check`
7. **Build:** `pnpm run build`

---

## Риски и митигация

| Риск | Вероятность | Митигация |
|------|-------------|-----------|
| Подростки не дойдут до конца (60 > 55) | Средняя | Progress bar, мотивационные сообщения |
| Миграция сломает старые результаты | Низкая | testVersion, не трогать старые записи |
| Новые вопросы не работают | Средняя | A/B тест, итерация |
| Нормы не подходят для России | Средняя | Пересчитать на локальных данных |

---

## Timeline

| Фаза | Срок | Результат |
|------|------|-----------|
| 1. Контент | 3-4 дня | 60 вопросов готовы |
| 2. Техническая | 2-3 дня | Код обновлён, миграция |
| 3. Тестирование | 2-3 дня | Всё работает |
| 4. Валидация | 1-2 недели | Cronbach's alpha, нормы |

**Итого:** 7-10 дней разработки + 1-2 недели валидации
